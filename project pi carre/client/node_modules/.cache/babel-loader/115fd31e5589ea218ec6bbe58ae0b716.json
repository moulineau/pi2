{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\Aymeric-PC\\\\Desktop\\\\firstAPIfront\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:\\\\Users\\\\Aymeric-PC\\\\Desktop\\\\firstAPIfront\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Aymeric-PC\\\\Desktop\\\\firstAPIfront\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\Aymeric-PC\\\\Desktop\\\\firstAPIfront\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\Aymeric-PC\\\\Desktop\\\\firstAPIfront\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\Aymeric-PC\\\\Desktop\\\\firstAPIfront\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import{Button,Form,FormGroup,Label,Input}from'reactstrap';var AddEditForm=/*#__PURE__*/function(_React$Component){_inherits(AddEditForm,_React$Component);function AddEditForm(){var _getPrototypeOf2;var _this;_classCallCheck(this,AddEditForm);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(AddEditForm)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={id:0,first:'',last:'',email:'',phone:'',location:'',hobby:''};_this.onChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.submitFormAdd=function(e){e.preventDefault();fetch('http://localhost:5000/crud',{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({first:_this.state.first,last:_this.state.last,email:_this.state.email,phone:_this.state.phone,location:_this.state.location,hobby:_this.state.hobby})}).then(function(response){return response.json();}).then(function(item){if(Array.isArray(item)){_this.props.addItemToState(item[0]);_this.props.toggle();}else{console.log('failure');}}).catch(function(err){return console.log(err);});};_this.submitFormEdit=function(e){e.preventDefault();fetch('http://localhost:5000/crud',{method:'put',headers:{'Content-Type':'application/json'},body:JSON.stringify({id:_this.state.id,first:_this.state.first,last:_this.state.last,email:_this.state.email,phone:_this.state.phone,location:_this.state.location,hobby:_this.state.hobby})}).then(function(response){return response.json();}).then(function(item){if(Array.isArray(item)){// console.log(item[0])\n_this.props.updateState(item[0]);_this.props.toggle();}else{console.log('failure');}}).catch(function(err){return console.log(err);});};return _this;}_createClass(AddEditForm,[{key:\"componentDidMount\",value:function componentDidMount(){// if item exists, populate the state with proper data\nif(this.props.item){var _this$props$item=this.props.item,id=_this$props$item.id,first=_this$props$item.first,last=_this$props$item.last,email=_this$props$item.email,phone=_this$props$item.phone,location=_this$props$item.location,hobby=_this$props$item.hobby;this.setState({id:id,first:first,last:last,email:email,phone:phone,location:location,hobby:hobby});}}},{key:\"render\",value:function render(){return React.createElement(Form,{onSubmit:this.props.item?this.submitFormEdit:this.submitFormAdd},React.createElement(FormGroup,null,React.createElement(Label,{for:\"first\"},\"First Name\"),React.createElement(Input,{type:\"text\",name:\"first\",id:\"first\",onChange:this.onChange,value:this.state.first===null?'':this.state.first})),React.createElement(FormGroup,null,React.createElement(Label,{for:\"last\"},\"Last Name\"),React.createElement(Input,{type:\"text\",name:\"last\",id:\"last\",onChange:this.onChange,value:this.state.last===null?'':this.state.last})),React.createElement(FormGroup,null,React.createElement(Label,{for:\"email\"},\"Email\"),React.createElement(Input,{type:\"email\",name:\"email\",id:\"email\",onChange:this.onChange,value:this.state.email===null?'':this.state.email})),React.createElement(FormGroup,null,React.createElement(Label,{for:\"phone\"},\"Phone\"),React.createElement(Input,{type:\"text\",name:\"phone\",id:\"phone\",onChange:this.onChange,value:this.state.phone===null?'':this.state.phone,placeholder:\"ex. 555-555-5555\"})),React.createElement(FormGroup,null,React.createElement(Label,{for:\"location\"},\"Location\"),React.createElement(Input,{type:\"text\",name:\"location\",id:\"location\",onChange:this.onChange,value:this.state.location===null?'':this.state.location,placeholder:\"City, State\"})),React.createElement(FormGroup,null,React.createElement(Label,{for:\"hobby\"},\"Hobby\"),React.createElement(Input,{type:\"text\",name:\"hobby\",id:\"hobby\",onChange:this.onChange,value:this.state.hobby})),React.createElement(Button,null,\"Submit\"));}}]);return AddEditForm;}(React.Component);export default AddEditForm;","map":{"version":3,"sources":["C:/Users/Aymeric-PC/Desktop/firstAPIfront/src/Components/Forms/AddEditForm.js"],"names":["React","Button","Form","FormGroup","Label","Input","AddEditForm","state","id","first","last","email","phone","location","hobby","onChange","e","setState","target","name","value","submitFormAdd","preventDefault","fetch","method","headers","body","JSON","stringify","then","response","json","item","Array","isArray","props","addItemToState","toggle","console","log","catch","err","submitFormEdit","updateState","Component"],"mappings":"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","sourcesContent":["\r\nimport React from 'react';\r\nimport { Button, Form, FormGroup, Label, Input } from 'reactstrap';\r\n\r\nclass AddEditForm extends React.Component {\r\n  state = {\r\n    id: 0,\r\n    first: '',\r\n    last: '',\r\n    email: '',\r\n    phone: '',\r\n    location: '',\r\n    hobby: ''\r\n  }\r\n\r\n  onChange = e => {\r\n    this.setState({[e.target.name]: e.target.value})\r\n  }\r\n\r\n  submitFormAdd = e => {\r\n    e.preventDefault()\r\n    fetch('http://localhost:5000/crud', {\r\n      method: 'post',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        first: this.state.first,\r\n        last: this.state.last,\r\n        email: this.state.email,\r\n        phone: this.state.phone,\r\n        location: this.state.location,\r\n        hobby: this.state.hobby\r\n      })\r\n    })\r\n      .then(response => response.json())\r\n      .then(item => {\r\n        if(Array.isArray(item)) {\r\n          this.props.addItemToState(item[0])\r\n          this.props.toggle()\r\n        } else {\r\n          console.log('failure')\r\n        }\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  submitFormEdit = e => {\r\n    e.preventDefault()\r\n    fetch('http://localhost:5000/crud', {\r\n      method: 'put',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        id: this.state.id,\r\n        first: this.state.first,\r\n        last: this.state.last,\r\n        email: this.state.email,\r\n        phone: this.state.phone,\r\n        location: this.state.location,\r\n        hobby: this.state.hobby\r\n      })\r\n    })\r\n      .then(response => response.json())\r\n      .then(item => {\r\n        if(Array.isArray(item)) {\r\n          // console.log(item[0])\r\n          this.props.updateState(item[0])\r\n          this.props.toggle()\r\n        } else {\r\n          console.log('failure')\r\n        }\r\n      })\r\n      .catch(err => console.log(err))\r\n  }\r\n\r\n  componentDidMount(){\r\n    // if item exists, populate the state with proper data\r\n    if(this.props.item){\r\n      const { id, first, last, email, phone, location, hobby } = this.props.item\r\n      this.setState({ id, first, last, email, phone, location, hobby })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Form onSubmit={this.props.item ? this.submitFormEdit : this.submitFormAdd}>\r\n        <FormGroup>\r\n          <Label for=\"first\">First Name</Label>\r\n          <Input type=\"text\" name=\"first\" id=\"first\" onChange={this.onChange} value={this.state.first === null ? '' : this.state.first} />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label for=\"last\">Last Name</Label>\r\n          <Input type=\"text\" name=\"last\" id=\"last\" onChange={this.onChange} value={this.state.last === null ? '' : this.state.last}  />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label for=\"email\">Email</Label>\r\n          <Input type=\"email\" name=\"email\" id=\"email\" onChange={this.onChange} value={this.state.email === null ? '' : this.state.email}  />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label for=\"phone\">Phone</Label>\r\n          <Input type=\"text\" name=\"phone\" id=\"phone\" onChange={this.onChange} value={this.state.phone === null ? '' : this.state.phone}  placeholder=\"ex. 555-555-5555\" />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label for=\"location\">Location</Label>\r\n          <Input type=\"text\" name=\"location\" id=\"location\" onChange={this.onChange} value={this.state.location === null ? '' : this.state.location}  placeholder=\"City, State\" />\r\n        </FormGroup>\r\n        <FormGroup>\r\n          <Label for=\"hobby\">Hobby</Label>\r\n          <Input type=\"text\" name=\"hobby\" id=\"hobby\" onChange={this.onChange} value={this.state.hobby}  />\r\n        </FormGroup>\r\n        <Button>Submit</Button>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddEditForm"]},"metadata":{},"sourceType":"module"}